# ๐ ูุฑุฌุน API ูุง ูุญุงุณุจุงุช ูุงู

## ๐ฏ ูุฏู
ุงู ูุงู ุดุงูู ุชูุงู API ูุง ููุฌูุฏ ุจุฑุง ูุญุงุณุจุงุช ูุงู ุงุณุช ฺฉู ุฏุฑ ุณูุช ุณุฑูุฑ ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ.

---

## ๐ ููุฑุณุช API ูุง ููุฌูุฏ

### ๐๏ธ **Project APIs**

#### 1. ุชุญูู ุฌุงูุน ูพุฑูฺู
- **Endpoint**: `GET /api/v1/Project/comprehensive_analysis/`
- **ุชูุถุญ**: ุฏุฑุงูุช ุชูุงู ุขูุงุฑ ู ูุญุงุณุจุงุช ูพุฑูฺู ุฏุฑ ฺฉ ุฏุฑุฎูุงุณุช
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ูพุฑูฺู
  - ุขูุงุฑ ูุงุญุฏูุง
  - ุขูุงุฑ ุชุฑุงฺฉูุดโูุง
  - ุขูุงุฑ ูุฒููโูุง
  - ุขูุงุฑ ุณุฑูุงูโฺฏุฐุงุฑุงู
  - ูุชุฑฺฉโูุง ุณูุฏ
  - ูุฑุฎ ุณูุฏ ูุนู

#### 2. ูุชุฑฺฉโูุง ุณูุฏ
- **Endpoint**: `GET /api/v1/Project/profit_metrics/`
- **ุชูุถุญ**: ูุญุงุณุจู ุฏุฑุตุฏูุง ุณูุฏ (ฺฉูุ ุณุงูุงููุ ูุงูุงููุ ุฑูุฒุงูู)
- **ูพุงุณุฎ ุดุงูู**:
  - `total_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ฺฉู
  - `annual_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ุณุงูุงูู
  - `monthly_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ูุงูุงูู
  - `daily_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ุฑูุฒุงูู
  - `average_construction_period`: ุฏูุฑู ูุชูุณุท ุณุงุฎุช
  - `correction_factor`: ุถุฑุจ ุงุตูุงุญ

#### 3. ูุชุฑฺฉโูุง ูุฒูู
- **Endpoint**: `GET /api/v1/Project/cost_metrics/`
- **ุชูุถุญ**: ูุญุงุณุจู ูุชุฑฺฉโูุง ูุฒูู ู ุงุฑุฒุด
- **ูพุงุณุฎ ุดุงูู**:
  - `final_cost`: ูุฒูู ููุง
  - `final_profit_amount`: ุณูุฏ ููุง
  - `total_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ฺฉู
  - `net_cost_per_meter`: ูุฒูู ูุฑ ูุชุฑ ุฎุงูุต
  - `gross_cost_per_meter`: ูุฒูู ูุฑ ูุชุฑ ูุงุฎุงูุต
  - `value_per_meter`: ุงุฑุฒุด ูุฑ ูุชุฑ
  - `total_expenses`: ูุฌููุน ูุฒููโูุง
  - `total_sales`: ูุฌููุน ูุฑูุดโูุง
  - `total_value`: ุงุฑุฒุด ฺฉู
  - `total_area`: ูุชุฑุงฺ ฺฉู
  - `total_infrastructure`: ุฒุฑุจูุง ฺฉู

#### 4. ุขูุงุฑ ุชูุตู ูพุฑูฺู
- **Endpoint**: `GET /api/v1/Project/project_statistics_detailed/`
- **ุชูุถุญ**: ุขูุงุฑ ฺฉุงูู ูพุฑูฺู
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ูพุฑูฺู
  - ุขูุงุฑ ูุงุญุฏูุง
  - ุขูุงุฑ ุชุฑุงฺฉูุดโูุง
  - ุขูุงุฑ ูุฒููโูุง
  - ุขูุงุฑ ุณุฑูุงูโฺฏุฐุงุฑุงู
  - ุฒูุงูโุจูุฏ ูพุฑูฺู

---

### ๐ฅ **Investor APIs**

#### 1. ุขูุงุฑ ุชูุตู ุณุฑูุงูโฺฏุฐุงุฑ
- **Endpoint**: `GET /api/v1/Investor/{id}/detailed_statistics/`
- **ุชูุถุญ**: ุขูุงุฑ ฺฉุงูู ุณุฑูุงูโฺฏุฐุงุฑ
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ุณุฑูุงูโฺฏุฐุงุฑ
  - `total_principal`: ุขูุฑุฏู ฺฉู
  - `total_withdrawal`: ุจุฑุฏุงุดุช ฺฉู
  - `total_profit`: ุณูุฏ ฺฉู
  - `net_principal`: ุณุฑูุงู ุฎุงูุต
  - `total_balance`: ููุฌูุฏ ฺฉู
  - ูุณุฎูโูุง ุชููุงู

#### 2. ูุณุจุชโูุง ุณุฑูุงูโฺฏุฐุงุฑ
- **Endpoint**: `GET /api/v1/Investor/{id}/ratios/`
- **ุชูุถุญ**: ูุญุงุณุจู ูุณุจุชโูุง ุณุฑูุงูโฺฏุฐุงุฑ
- **ูพุงุณุฎ ุดุงูู**:
  - `capital_ratio`: ูุณุจุช ุณุฑูุงู ูุฑุฏ ุจู ฺฉู
  - `profit_ratio`: ูุณุจุช ุณูุฏ ูุฑุฏ ุจู ฺฉู
  - `total_ratio`: ูุณุจุช ฺฉู ูุฑุฏ ุจู ฺฉู
  - `profit_index`: ุดุงุฎุต ููุน
  - ูุณุฎูโูุง ูุฑูุช ุดุฏู

#### 3. ุฎูุงุตู ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู
- **Endpoint**: `GET /api/v1/Investor/all_investors_summary/`
- **ุชูุถุญ**: ุขูุงุฑ ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู
- **ูพุงุณุฎ ุดุงูู**: ูุณุช ุขูุงุฑ ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู

---

### ๐ณ **Transaction APIs**

#### 1. ุขูุงุฑ ุชูุตู ุชุฑุงฺฉูุดโูุง
- **Endpoint**: `GET /api/v1/Transaction/detailed_statistics/`
- **ุชูุถุญ**: ุขูุงุฑ ุชุฑุงฺฉูุดโูุง ุจุง ููุชุฑูุง ูพุดุฑูุชู
- **ูพุงุฑุงูุชุฑูุง ุงุฎุชุงุฑ**:
  - `project_id`: ุดูุงุณู ูพุฑูฺู
  - `investor_id`: ุดูุงุณู ุณุฑูุงูโฺฏุฐุงุฑ
  - `date_from`: ุชุงุฑุฎ ุดุฑูุน
  - `date_to`: ุชุงุฑุฎ ูพุงุงู
  - `transaction_type`: ููุน ุชุฑุงฺฉูุด
- **ูพุงุณุฎ ุดุงูู**:
  - `total_transactions`: ุชุนุฏุงุฏ ฺฉู ุชุฑุงฺฉูุดโูุง
  - `total_deposits`: ูุฌููุน ูุงุฑุฒูุง
  - `total_withdrawals`: ูุฌููุน ุจุฑุฏุงุดุชโูุง
  - `total_profits`: ูุฌููุน ุณูุฏูุง
  - `net_capital`: ุณุฑูุงู ููุฌูุฏ
  - ูุณุฎูโูุง ูุฑูุช ุดุฏู

---

## ๐ **ุฑุงูโูุง ุจุฑุฑุณ ูุญุงุณุจุงุช ููุฌูุฏ**

### 1. **ุจุฑุฑุณ ูุณุชูุฏ**
- ูุงู `docs/FINANCIAL_CALCULATIONS.md` ุดุงูู ุชูุงู ูุญุงุณุจุงุช
- ูุฑ ูุญุงุณุจู ุฏุงุฑุง ูุงูุ ูุฑูููุ ูฺฉุงู ุงุณุชูุงุฏู ู ููุน ุฏุงุฏู

### 2. **ุจุฑุฑุณ API Reference**
- ุงู ูุงู ุดุงูู ุชูุงู API ูุง ููุฌูุฏ
- ูุฑ API ุฏุงุฑุง ุชูุถุญ ฺฉุงูู ู ููุฏูุง ูพุงุณุฎ

### 3. **ุจุฑุฑุณ ฺฉุฏ ุณุฑูุณ**
- ูุงู `construction/calculations.py` ุดุงูู ุชูุงู ฺฉูุงุณโูุง ูุญุงุณุจุงุช
- ูุฑ ฺฉูุงุณ ุฏุงุฑุง ูุชุฏูุง ูุฎุชูู

### 4. **ุจุฑุฑุณ JavaScript Service**
- ูุงู `static/js/financial-calculations.js` ุดุงูู ุชูุงู ุชูุงุจุน
- ูุฑ ุชุงุจุน ุฏุงุฑุง ุชูุถุญ ู ูุซุงู ุงุณุชูุงุฏู

---

## ๐ **ูุญูู ุงุณุชูุงุฏู**

### 1. **ุงุณุชูุงุฏู ูุณุชูู ุงุฒ API**
```javascript
// ุฏุฑุงูุช ูุชุฑฺฉโูุง ุณูุฏ
const profitMetrics = await fetch('/api/v1/Project/profit_metrics/');
const data = await profitMetrics.json();
```

### 2. **ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ JavaScript**
```javascript
// ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ูุญุงุณุจุงุช ูุงู
const profitMetrics = await window.financialService.getProfitMetrics();
```

### 3. **ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ฺฉูฺฉ**
```javascript
// ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ฺฉูฺฉ
const analysis = await window.loadProjectData();
```

---

## ๐ **ูฺฉุงุช ููู**

1. **ฺฉุด**: ุชูุงู API ูุง ุฏุงุฑุง ฺฉุด 30 ุซุงููโุง ูุณุชูุฏ
2. **Fallback**: ุฏุฑ ุตูุฑุช ุฎุทุงุ ฺฉุฏูุง ูุฏู ุงุฌุฑุง ูโุดููุฏ
3. **ูพุงุฑุงูุชุฑูุง**: ุชูุงู API ูุง ูพุงุฑุงูุชุฑ `project_id` ุงุฎุชุงุฑ ุฏุงุฑูุฏ
4. **ูุฑูุช**: ุชูุงู ุงุนุฏุงุฏ ุจุง ูุฑูุช ููุงุณุจ ุจุฑฺฏุฑุฏุงูุฏู ูโุดููุฏ

---

## ๐ **ุจูโุฑูุฒุฑุณุงู**

ุงู ูุงู ุจุงุฏ ูุฑ ุจุงุฑ ฺฉู API ุฌุฏุฏ ุงุถุงูู ูโุดูุฏ ุจูโุฑูุฒุฑุณุงู ุดูุฏ.

---

**ุชุงุฑุฎ ุงุฌุงุฏ**: 2025-01-04  
**ูุณุฎู**: 1.0  
**ูุถุนุช**: ุฏุฑ ุญุงู ุชูุณุนู
