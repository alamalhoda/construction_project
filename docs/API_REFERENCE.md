# ๐ ูุฑุฌุน API ูุง ูุญุงุณุจุงุช ูุงู

## ๐ฏ ูุฏู
ุงู ูุงู ุดุงูู ุชูุงู API ูุง ููุฌูุฏ ุจุฑุง ูุญุงุณุจุงุช ูุงู ุงุณุช ฺฉู ุฏุฑ ุณูุช ุณุฑูุฑ ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ.

---

## ๐ ููุฑุณุช API ูุง ููุฌูุฏ

### ๐๏ธ **Project APIs**

#### 1. ุชุญูู ุฌุงูุน ูพุฑูฺู
- **Endpoint**: `GET /api/v1/Project/comprehensive_analysis/`
- **ุชูุถุญ**: ุฏุฑุงูุช ุชูุงู ุขูุงุฑ ู ูุญุงุณุจุงุช ูพุฑูฺู ุฏุฑ ฺฉ ุฏุฑุฎูุงุณุช
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ูพุฑูฺู
  - ุขูุงุฑ ูุงุญุฏูุง
  - ุขูุงุฑ ุชุฑุงฺฉูุดโูุง
  - ุขูุงุฑ ูุฒููโูุง
  - ุขูุงุฑ ุณุฑูุงูโฺฏุฐุงุฑุงู
  - ูุชุฑฺฉโูุง ุณูุฏ
  - ูุฑุฎ ุณูุฏ ูุนู

#### 2. ูุชุฑฺฉโูุง ุณูุฏ
- **Endpoint**: `GET /api/v1/Project/profit_metrics/`
- **ุชูุถุญ**: ูุญุงุณุจู ุฏุฑุตุฏูุง ุณูุฏ (ฺฉูุ ุณุงูุงููุ ูุงูุงููุ ุฑูุฒุงูู)
- **ูพุงุณุฎ ุดุงูู**:
  - `total_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ฺฉู
  - `annual_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ุณุงูุงูู
  - `monthly_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ูุงูุงูู
  - `daily_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ุฑูุฒุงูู
  - `average_construction_period`: ุฏูุฑู ูุชูุณุท ุณุงุฎุช
  - `correction_factor`: ุถุฑุจ ุงุตูุงุญ

#### 3. ูุชุฑฺฉโูุง ูุฒูู
- **Endpoint**: `GET /api/v1/Project/cost_metrics/`
- **ุชูุถุญ**: ูุญุงุณุจู ูุชุฑฺฉโูุง ูุฒูู ู ุงุฑุฒุด
- **ูพุงุณุฎ ุดุงูู**:
  - `final_cost`: ูุฒูู ููุง
  - `final_profit_amount`: ุณูุฏ ููุง
  - `total_profit_percentage`: ุฏุฑุตุฏ ุณูุฏ ฺฉู
  - `net_cost_per_meter`: ูุฒูู ูุฑ ูุชุฑ ุฎุงูุต
  - `gross_cost_per_meter`: ูุฒูู ูุฑ ูุชุฑ ูุงุฎุงูุต
  - `value_per_meter`: ุงุฑุฒุด ูุฑ ูุชุฑ
  - `total_expenses`: ูุฌููุน ูุฒููโูุง
  - `total_sales`: ูุฌููุน ูุฑูุดโูุง
  - `total_value`: ุงุฑุฒุด ฺฉู
  - `total_area`: ูุชุฑุงฺ ฺฉู
  - `total_infrastructure`: ุฒุฑุจูุง ฺฉู

#### 4. ุขูุงุฑ ุชูุตู ูพุฑูฺู
- **Endpoint**: `GET /api/v1/Project/project_statistics_detailed/`
- **ุชูุถุญ**: ุขูุงุฑ ฺฉุงูู ูพุฑูฺู
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ูพุฑูฺู
  - ุขูุงุฑ ูุงุญุฏูุง
  - ุขูุงุฑ ุชุฑุงฺฉูุดโูุง
  - ุขูุงุฑ ูุฒููโูุง
  - ุขูุงุฑ ุณุฑูุงูโฺฏุฐุงุฑุงู
  - ุฒูุงูโุจูุฏ ูพุฑูฺู

#### 5. Export ูุงู Excel Static (ูุงุฒ ุงูู)
- **Endpoint**: `GET /api/v1/Project/export_excel_static/`
- **ุชูุถุญ**: ุฏุฑุงูุช ูุงู Excel ุจุง ูุญุงุณุจุงุช ุงูุฌุงู ุดุฏู ุฏุฑ ุณุฑูุฑ
- **ููุน**: Static (ูุญุงุณุจุงุช ุฏุฑ ุณุฑูุฑ ุงูุฌุงู ูโุดูุฏ)
- **ูุฑูุช ุฎุฑูุฌ**: ูุงู Excel (.xlsx)
- **ูุงู ูุงู**: `project_{ูุงู_ูพุฑูฺู}_{ุชุงุฑุฎ_ู_ุฒูุงู}.xlsx`

#### 6. Export ูุงู Excel Dynamic (ูุงุฒ ุฏูู - ุฌุฏุฏ)
- **Endpoint**: `GET /api/v1/Project/export_excel_dynamic/`
- **ุชูุถุญ**: ุฏุฑุงูุช ูุงู Excel ุจุง ูุฑูููโูุง ูุญุงุณุจุงุช
- **ููุน**: Dynamic (ูุฑูููโูุง Excel ุจุฑุง ูุญุงุณุจุงุช)
- **ูุฑูุช ุฎุฑูุฌ**: ูุงู Excel (.xlsx)
- **ูุงู ูุงู**: `project_dynamic_{ูุงู_ูพุฑูฺู}_{ุชุงุฑุฎ_ู_ุฒูุงู}.xlsx`

**ุดุชโูุง ููุฌูุฏ ุฏุฑ ูุงู Static (16 ุดุช):**

**ุดุชโูุง ุฏุงุฏู ูพุงู (9 ุดุช):**
1. **Project**: ุงุทูุงุนุงุช ฺฉุงูู ูพุฑูฺู ูุนุงู
   - ุดุงูู: ID, ูุงู, ุชุงุฑุฎโูุง (ุดูุณ ู ููุงุฏ), ุฒุฑุจูุง, ุถุฑุจ ุงุตูุงุญ
2. **Units**: ูุณุช ฺฉุงูู ูุงุญุฏูุง
   - ุดุงูู: ID ูุงุญุฏ, ุดูุงุณู ูพุฑูฺู, ูุงู ูุงุญุฏ, ูุชุฑุงฺ, ููุช ูุฑ ูุชุฑ, ููุช ููุง
3. **Investors**: ูุณุช ุณุฑูุงูโฺฏุฐุงุฑุงู
   - ุดุงูู: ID, ูุงู ู ูุงู ุฎุงููุงุฏฺฏ, ุชูุงุณ, ุงูู, ููุน ูุดุงุฑฺฉุช, ูุงุญุฏูุง ูุชุนูู (ุฌุฏุง ุดุฏู ุจุง ฺฉุงูุง), ุชุงุฑุฎ ูุฑุงุฑุฏุงุฏ
4. **Periods**: ูุณุช ุฏูุฑูโูุง ูพุฑูฺู
   - ุดุงูู: ID, ุนููุงู ุฏูุฑู, ุณุงู ู ูุงู ุดูุณ, ูุฒู ุฏูุฑู, ุชุงุฑุฎ ุดุฑูุน ู ูพุงุงู (ุดูุณ ู ููุงุฏ)
5. **InterestRates**: ูุฑุฎโูุง ุณูุฏ
   - ุดุงูู: ID, ูุฑุฎ ุณูุฏ ุฑูุฒุงูู, ุชุงุฑุฎ ุงุนูุงู, ุชูุถุญุงุช, ูุถุนุช ูุนุงู
6. **Transactions**: ูุณุช ฺฉุงูู ุชุฑุงฺฉูุดโูุง
   - ุดุงูู: ID, ุดูุงุณู ู ูุงู ุณุฑูุงูโฺฏุฐุงุฑ, ุดูุงุณู ู ูุงู ุฏูุฑู, ุชุงุฑุฎ (ุดูุณ ู ููุงุฏ), ูุจูุบ, ููุน ุชุฑุงฺฉูุด, ุฑูุฒ ูุงูุฏูุ ุฑูุฒ ุงุฒ ุดุฑูุน
7. **Expenses**: ูุณุช ูุฒููโูุง
   - ุดุงูู: ID, ุดูุงุณู ุฏูุฑู, ููุน ูุฒูู, ูุจูุบ, ุชูุถุญุงุช
8. **Sales**: ูุณุช ูุฑูุด/ูุฑุฌูุนโูุง
   - ุดุงูู: ID, ุดูุงุณู ุฏูุฑู, ูุจูุบ, ุชูุถุญุงุช
9. **UserProfiles**: ูพุฑููุงู ฺฉุงุฑุจุฑุงู
   - ุดุงูู: ID, ูุงู ฺฉุงุฑุจุฑ, ููุดุ ุดูุงุฑู ุชูููุ ุจุฎุด

**ุดุชโูุง ูุญุงุณุจุงุช (6 ุดุช):**
1. **Dashboard**: ุฎูุงุตู ฺฉู ูพุฑูฺู
   - ุงุทูุงุนุงุช ูุงุญุฏูุง (ุชุนุฏุงุฏุ ูุชุฑุงฺุ ุงุฑุฒุด)
   - ุงุทูุงุนุงุช ูุงู (ุณุฑูุงู ููุฌูุฏุ ุณูุฏุ ููุฌูุฏุ ูุฒููโูุงุ ูุงูุฏู ุตูุฏูู)
   - ุงุทูุงุนุงุช ุณุฑูุงูโฺฏุฐุงุฑุงู (ุชุนุฏุงุฏ ฺฉูุ ุชุนุฏุงุฏ ูุงูฺฉุงู)
2. **Profit_Metrics**: ูุญุงุณุจุงุช ุณูุฏ
   - ุฏุฑุตุฏ ุณูุฏ ฺฉูุ ุณุงูุงููุ ูุงูุงููุ ุฑูุฒุงูู
   - ุฏูุฑู ูุชูุณุท ุณุงุฎุชุ ุถุฑุจ ุงุตูุงุญ
3. **Cost_Metrics**: ูุญุงุณุจุงุช ูุฒูู
   - ูุฒููโูุง ฺฉู ู ููุง
   - ูุฒูู ูุฑ ูุชุฑ (ุฎุงูุต ู ูุงุฎุงูุต)
   - ุณูุฏ ููุง ู ุฏุฑุตุฏ ุณูุฏ
4. **Investor_Analysis**: ุชุญูู ุชูุตู ุณุฑูุงูโฺฏุฐุงุฑุงู
   - ุจุฑุง ูุฑ ุณุฑูุงูโฺฏุฐุงุฑ: ุขูุฑุฏูุ ุจุฑุฏุงุดุชุ ุณุฑูุงู ุฎุงูุตุ ุณูุฏุ ูุณุจุชโูุงุ ุดุงุฎุต ููุน
5. **Period_Summary**: ุฎูุงุตู ุฏูุฑูโุง
   - ุจุฑุง ูุฑ ุฏูุฑู: ุขูุฑุฏูุ ุจุฑุฏุงุดุชุ ุณุฑูุงูุ ุณูุฏุ ูุฒููุ ูุฑูุดุ ูุงูุฏู ุตูุฏูู
   - ููุงุฏุฑ ุชุฌูุน ุจุฑุง ูุฑ ูุงฺฉุชูุฑ
   - ุฑุฏู ุฌูุน ฺฉู
6. **Transaction_Summary**: ุฎูุงุตู ุชุฑุงฺฉูุดโูุง
   - ุชุนุฏุงุฏ ฺฉู ุชุฑุงฺฉูุดโูุง
   - ูุฌููุน ุขูุฑุฏูโูุงุ ุจุฑุฏุงุดุชโูุงุ ุณูุฏูุง
   - ุณุฑูุงู ููุฌูุฏ

**ูฺฺฏโูุง ูุงู Excel:**
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ูุงุฑุณ (ูููุช Tahoma)
- ูุฑูุชโุจูุฏ ุงุนุฏุงุฏ ุจุง ุฌุฏุงฺฉููุฏู ูุฒุงุฑฺฏุงู
- ูุฏุฑูุง ุฑูฺฏ ู ุงุณุชุงูโุฏุงุฑ ุจุฑุง ุฎูุงูุง ุจูุชุฑ
- ุนุฑุถ ุณุชููโูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุธู ูโุดูุฏ
- ูุฑ ุฏู ุชุงุฑุฎ ุดูุณ ู ููุงุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ
- ููู ูุญุงุณุจุงุช ุฏุฑ ุณุฑูุฑ ุงูุฌุงู ุดุฏู (Static - ุจุฏูู ูุฑููู)

**ูุซุงู ุงุณุชูุงุฏู:**
```bash
# ุฏุงูููุฏ ูุงู Excel
curl -O -J http://localhost:8000/api/v1/Project/export_excel/

# ุง ุฏุฑ ูุฑูุฑฺฏุฑ
http://localhost:8000/api/v1/Project/export_excel/
```

**ูฺฉุงุช ููู:**
- ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช ุฏุงุฑุฏ
- ููุท ูพุฑูฺู ูุนุงู export ูโุดูุฏ
- ูุงู ุจู ุตูุฑุช attachment ุฏุงูููุฏ ูโุดูุฏ
- ูุงู ูุงู ุดุงูู ูุงู ูพุฑูฺู ู ุชุงุฑุฎ/ุฒูุงู ุชููุฏ ุงุณุช

**ุดุชโูุง ููุฌูุฏ ุฏุฑ ูุงู Dynamic (15 ุดุช):**

**ุดุชโูุง ูฺู:**
1. **๐ ููุฑุณุช**: ููุฑุณุช ฺฉุงูู ุดุชโูุง ุจุง ููฺฉ
2. **๐ ุฑุงูููุง ูุฑูููโูุง**: ุชูุถุญ ฺฉุงูู Named Ranges ู ูุฑูููโูุง

**ุดุชโูุง ุฏุงุฏู ูพุงู (9 ุดุช):**
- ููุงู ุดุชโูุง Static (ุจุฏูู ุชุบุฑ)
- ูุงุจู ูุฑุงุด ุชูุณุท ฺฉุงุฑุจุฑ
- ุดุงูู ูุฑุฒ ู ููุชุฑ ุฎูุฏฺฉุงุฑ

**ุดุชโูุง ูุญุงุณุจุงุช (4 ุดุช):**
1. **Dashboard_Dynamic**: ุฎูุงุตู ฺฉู ุจุง ูุฑููู
2. **Profit_Metrics_Dynamic**: ูุญุงุณุจุงุช ุณูุฏ ุจุง ูุฑููู
3. **Cost_Metrics_Dynamic**: ูุญุงุณุจุงุช ูุฒูู ุจุง ูุฑููู
4. **Transaction_Summary_Dynamic**: ุฎูุงุตู ุชุฑุงฺฉูุดโูุง ุจุง ูุฑููู

**Named Ranges (14 ููุฑุฏ):**
- `TransactionAmounts`: ูุจุงูุบ ุชุฑุงฺฉูุดโูุง
- `TransactionTypes`: ุงููุงุน ุชุฑุงฺฉูุด
- `TransactionInvestors`: ID ุณุฑูุงูโฺฏุฐุงุฑุงู
- `TransactionPeriods`: ID ุฏูุฑูโูุง
- `ExpenseAmounts`: ูุจุงูุบ ูุฒููโูุง
- `SaleAmounts`: ูุจุงูุบ ูุฑูุด
- `UnitAreas`: ูุชุฑุงฺ ูุงุญุฏูุง
- `UnitPrices`: ููุช ูุงุญุฏูุง
- `TotalDeposits`: ุฌูุน ุขูุฑุฏู
- `TotalWithdrawals`: ุฌูุน ุจุฑุฏุงุดุช
- `TotalCapital`: ุณุฑูุงู ฺฉู
- `TotalProfit`: ุณูุฏ ฺฉู
- `TotalExpenses`: ูุฒูู ฺฉู
- `TotalSales`: ูุฑูุด ฺฉู

**ูฺฺฏโูุง ูุงู Dynamic:**
- โ ูุฑูููโูุง Excel ูุงุจู ูุดุงูุฏู
- โ ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ ุจุง ุชุบุฑ ุฏุงุฏูโูุง
- โ Named Ranges ุจุฑุง ุฎูุงูุง
- โ ุดุช ุฑุงูููุง ุจุฑุง ุขููุฒุด
- โ ุฏุงุฏูโูุง ูพุงู ูุงุจู ูุฑุงุด
- โ ูุฑุฒ ู ููุชุฑ ุฑู ุดุชโูุง ุฏุงุฏู

**ูุซุงู ุงุณุชูุงุฏู:**
```bash
# ุฏุงูููุฏ ูุงู Static
curl -O -J http://localhost:8000/api/v1/Project/export_excel_static/

# ุฏุงูููุฏ ูุงู Dynamic
curl -O -J http://localhost:8000/api/v1/Project/export_excel_dynamic/
```

**ุจุฑูุงูู ุขูุฏู:**
- **ูุงุฒ ุณูู**: ูุงู ุชุฑฺฉุจ ุจุง ูุฑ ุฏู ููุน ูุญุงุณุจุงุช (static + dynamic)

---

### ๐ฅ **Investor APIs**

#### 1. ุขูุงุฑ ุชูุตู ุณุฑูุงูโฺฏุฐุงุฑ
- **Endpoint**: `GET /api/v1/Investor/{id}/detailed_statistics/`
- **ุชูุถุญ**: ุขูุงุฑ ฺฉุงูู ุณุฑูุงูโฺฏุฐุงุฑ
- **ูพุงุณุฎ ุดุงูู**:
  - ุงุทูุงุนุงุช ุณุฑูุงูโฺฏุฐุงุฑ
  - `total_principal`: ุขูุฑุฏู ฺฉู
  - `total_withdrawal`: ุจุฑุฏุงุดุช ฺฉู
  - `total_profit`: ุณูุฏ ฺฉู
  - `net_principal`: ุณุฑูุงู ุฎุงูุต
  - `total_balance`: ููุฌูุฏ ฺฉู
  - ูุณุฎูโูุง ุชููุงู

#### 2. ูุณุจุชโูุง ุณุฑูุงูโฺฏุฐุงุฑ
- **Endpoint**: `GET /api/v1/Investor/{id}/ratios/`
- **ุชูุถุญ**: ูุญุงุณุจู ูุณุจุชโูุง ุณุฑูุงูโฺฏุฐุงุฑ
- **ูพุงุณุฎ ุดุงูู**:
  - `capital_ratio`: ูุณุจุช ุณุฑูุงู ูุฑุฏ ุจู ฺฉู
  - `profit_ratio`: ูุณุจุช ุณูุฏ ูุฑุฏ ุจู ฺฉู
  - `total_ratio`: ูุณุจุช ฺฉู ูุฑุฏ ุจู ฺฉู
  - `profit_index`: ุดุงุฎุต ููุน
  - ูุณุฎูโูุง ูุฑูุช ุดุฏู

#### 3. ุฎูุงุตู ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู
- **Endpoint**: `GET /api/v1/Investor/all_investors_summary/`
- **ุชูุถุญ**: ุขูุงุฑ ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู
- **ูพุงุณุฎ ุดุงูู**: ูุณุช ุขูุงุฑ ุชูุงู ุณุฑูุงูโฺฏุฐุงุฑุงู

---

### ๐ณ **Transaction APIs**

#### 1. ุขูุงุฑ ุชูุตู ุชุฑุงฺฉูุดโูุง
- **Endpoint**: `GET /api/v1/Transaction/detailed_statistics/`
- **ุชูุถุญ**: ุขูุงุฑ ุชุฑุงฺฉูุดโูุง ุจุง ููุชุฑูุง ูพุดุฑูุชู
- **ูพุงุฑุงูุชุฑูุง ุงุฎุชุงุฑ**:
  - `project_id`: ุดูุงุณู ูพุฑูฺู
  - `investor_id`: ุดูุงุณู ุณุฑูุงูโฺฏุฐุงุฑ
  - `date_from`: ุชุงุฑุฎ ุดุฑูุน
  - `date_to`: ุชุงุฑุฎ ูพุงุงู
  - `transaction_type`: ููุน ุชุฑุงฺฉูุด
- **ูพุงุณุฎ ุดุงูู**:
  - `total_transactions`: ุชุนุฏุงุฏ ฺฉู ุชุฑุงฺฉูุดโูุง
  - `total_deposits`: ูุฌููุน ูุงุฑุฒูุง
  - `total_withdrawals`: ูุฌููุน ุจุฑุฏุงุดุชโูุง
  - `total_profits`: ูุฌููุน ุณูุฏูุง
  - `net_capital`: ุณุฑูุงู ููุฌูุฏ
  - ูุณุฎูโูุง ูุฑูุช ุดุฏู

> ูพุงุฏูโุณุงุฒ ุณุฑูุฑ ุงุฒ ูุฑุฌุน ูุงุญุฏ `Transaction.objects.totals(project, filters)` ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุณุงุฒฺฏุงุฑ ุจุง SSOT ุญูุธ ุดูุฏ.

---

### ๐ **Period APIs**

#### 1. ุฏุงุฏูโูุง ูููุฏุงุฑ ุฏูุฑูโุง
- **Endpoint**: `GET /api/v1/Period/chart_data/`
- **ุชูุถุญ**: ุฏุฑุงูุช ุฏุงุฏูโูุง ุฏูุฑูโุง ุจุฑุง ูููุฏุงุฑูุง
- **ูพุงุณุฎ ุดุงูู**:
  - `period_id`: ุดูุงุณู ุฏูุฑู
  - `period_label`: ุนููุงู ุฏูุฑู
  - `year`: ุณุงู ุดูุณ
  - `month_number`: ุดูุงุฑู ูุงู
  - `capital`: ุณุฑูุงู ุฏูุฑู (ุขูุฑุฏู + ุจุฑุฏุงุดุช)
  - `expenses`: ูุฒููโูุง ุฏูุฑู
  - `sales`: ูุฑูุด/ูุฑุฌูุน ุฏูุฑู
  - `fund_balance`: ูุงูุฏู ุตูุฏูู
  - `cumulative_capital`: ุณุฑูุงู ุชุฌูุน
  - `cumulative_expenses`: ูุฒูู ุชุฌูุน
  - `cumulative_sales`: ูุฑูุด ุชุฌูุน

#### 2. ุฎูุงุตู ฺฉุงูู ุฏูุฑูโุง (ุฌุฏุฏ)
- **Endpoint**: `GET /api/v1/Period/period_summary/`
- **ุชูุถุญ**: ุฏุฑุงูุช ุฎูุงุตู ฺฉุงูู ุฏูุฑูโุง ุดุงูู ุชูุงู ูุงฺฉุชูุฑูุง ู ููุงุฏุฑ ุชุฌูุน
- **ูพุงุณุฎ ุดุงูู**:
  - **ุจุฑุง ูุฑ ุฏูุฑู**:
    - `period_id`: ุดูุงุณู ุฏูุฑู
    - `period_label`: ุนููุงู ุฏูุฑู
    - `year`: ุณุงู ุดูุณ
    - `month_number`: ุดูุงุฑู ูุงู
    - `month_name`: ูุงู ูุงู
    - `weight`: ูุฒู ุฏูุฑู
    - **ูุงฺฉุชูุฑูุง ุฏูุฑู**:
      - `deposits`: ุขูุฑุฏู ุฏูุฑู (ุดุงูู `principal_deposit` ู `loan_deposit`)
      - `withdrawals`: ุจุฑุฏุงุดุช ุฏูุฑู (ููู)
      - `net_capital`: ุณุฑูุงู ุฎุงูุต (ุขูุฑุฏู + ุจุฑุฏุงุดุช)
      - `profits`: ุณูุฏ ุฏูุฑู
      - `expenses`: ูุฒููโูุง ุฏูุฑู
      - `sales`: ูุฑูุด/ูุฑุฌูุน ุฏูุฑู
      - `fund_balance`: ูุงูุฏู ุตูุฏูู
    - **ููุงุฏุฑ ุชุฌูุน**:
      - `cumulative_deposits`: ุขูุฑุฏู ุชุฌูุน
      - `cumulative_withdrawals`: ุจุฑุฏุงุดุช ุชุฌูุน
      - `cumulative_net_capital`: ุณุฑูุงู ุชุฌูุน
      - `cumulative_profits`: ุณูุฏ ุชุฌูุน
      - `cumulative_expenses`: ูุฒูู ุชุฌูุน
      - `cumulative_sales`: ูุฑูุด ุชุฌูุน
      - `cumulative_fund_balance`: ูุงูุฏู ุชุฌูุน
  - **ุฎูุงุตู ฺฉู (totals)**:
    - `total_deposits`: ูุฌููุน ุขูุฑุฏู
    - `total_withdrawals`: ูุฌููุน ุจุฑุฏุงุดุช
    - `total_net_capital`: ุณุฑูุงู ุฎุงูุต ฺฉู
    - `total_profits`: ูุฌููุน ุณูุฏ
    - `total_expenses`: ูุฌููุน ูุฒููโูุง
    - `total_sales`: ูุฌููุน ูุฑูุด
    - `final_fund_balance`: ูุงูุฏู ุตูุฏูู ููุง
    - `total_periods`: ุชุนุฏุงุฏ ุฏูุฑูโูุง

**ูฺฉุงุช ููู**:
1. ููุฏุงุฑ `withdrawals` ุฏุฑ ุฏุชุงุจุณ ููู ุงุณุชุ ุจูุงุจุฑุงู `net_capital = deposits + withdrawals`
2. ููุน ุชุฑุงฺฉูุด ุณูุฏ `profit_accrual` ุงุณุช (ูู `profit_payment`)
3. ูุญุงุณุจุงุช ุชุฑุงฺฉูุดโูุง ุงุฒ Manager ุณูุงุฑุด `Transaction.objects` ุงูุฌุงู ูโุดูุฏ ุชุง ฺฉูพุงุฑฺฺฏ ุญูุธ ุดูุฏ.

---

## ๐ **ุฑุงูโูุง ุจุฑุฑุณ ูุญุงุณุจุงุช ููุฌูุฏ**

### 1. **ุจุฑุฑุณ ูุณุชูุฏ**
- ูุงู `docs/FINANCIAL_CALCULATIONS.md` ุดุงูู ุชูุงู ูุญุงุณุจุงุช
- ูุฑ ูุญุงุณุจู ุฏุงุฑุง ูุงูุ ูุฑูููุ ูฺฉุงู ุงุณุชูุงุฏู ู ููุน ุฏุงุฏู

### 2. **ุจุฑุฑุณ API Reference**
- ุงู ูุงู ุดุงูู ุชูุงู API ูุง ููุฌูุฏ
- ูุฑ API ุฏุงุฑุง ุชูุถุญ ฺฉุงูู ู ููุฏูุง ูพุงุณุฎ

### 3. **ุจุฑุฑุณ ฺฉุฏ ุณุฑูุณ**
- ูุงู `construction/calculations.py` ุดุงูู ุชูุงู ฺฉูุงุณโูุง ูุญุงุณุจุงุช
- ูุฑ ฺฉูุงุณ ุฏุงุฑุง ูุชุฏูุง ูุฎุชูู

### 4. **ุจุฑุฑุณ JavaScript Service**
- ูุงู `static/js/financial-calculations.js` ุดุงูู ุชูุงู ุชูุงุจุน
- ูุฑ ุชุงุจุน ุฏุงุฑุง ุชูุถุญ ู ูุซุงู ุงุณุชูุงุฏู

---

## ๐ **ูุญูู ุงุณุชูุงุฏู**

### 1. **ุงุณุชูุงุฏู ูุณุชูู ุงุฒ API**
```javascript
// ุฏุฑุงูุช ูุชุฑฺฉโูุง ุณูุฏ
const profitMetrics = await fetch('/api/v1/Project/profit_metrics/');
const data = await profitMetrics.json();
```

### 2. **ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ JavaScript**
```javascript
// ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ูุญุงุณุจุงุช ูุงู
const profitMetrics = await window.financialService.getProfitMetrics();
```

### 3. **ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ฺฉูฺฉ**
```javascript
// ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ฺฉูฺฉ
const analysis = await window.loadProjectData();
```

---

## ๐ **ูฺฉุงุช ููู**

1. **ฺฉุด**: ุชูุงู API ูุง ุฏุงุฑุง ฺฉุด 30 ุซุงููโุง ูุณุชูุฏ
2. **Fallback**: ุฏุฑ ุตูุฑุช ุฎุทุงุ ฺฉุฏูุง ูุฏู ุงุฌุฑุง ูโุดููุฏ
3. **ูพุงุฑุงูุชุฑูุง**: ุชูุงู API ูุง ูพุงุฑุงูุชุฑ `project_id` ุงุฎุชุงุฑ ุฏุงุฑูุฏ
4. **ูุฑูุช**: ุชูุงู ุงุนุฏุงุฏ ุจุง ูุฑูุช ููุงุณุจ ุจุฑฺฏุฑุฏุงูุฏู ูโุดููุฏ

---

## ๐ **ุจูโุฑูุฒุฑุณุงู**

ุงู ูุงู ุจุงุฏ ูุฑ ุจุงุฑ ฺฉู API ุฌุฏุฏ ุงุถุงูู ูโุดูุฏ ุจูโุฑูุฒุฑุณุงู ุดูุฏ.

---

**ุชุงุฑุฎ ุงุฌุงุฏ**: 2025-01-04  
**ูุณุฎู**: 1.0  
**ูุถุนุช**: ุฏุฑ ุญุงู ุชูุณุนู
