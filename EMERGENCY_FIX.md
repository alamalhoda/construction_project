# ุฑุงูููุง ุงุถุทุฑุงุฑ ุญู ูุดฺฉู 502

## ๐จ ูุดฺฉู: 502 Bad Gateway

### ูุฑุงุญู ููุฑ ุญู ูุดฺฉู

#### 1. ุจุฑุฑุณ ูุถุนุช ูุนู
```bash
# ุฏุฑ ุณุฑูุฑ ฺุงุจฺฉุงู.ูุช
./test_connection.sh
```

#### 2. ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉุงูู
```bash
# ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ููู ฺุฒ
./restart.sh
```

#### 3. ุงฺฏุฑ ูุดฺฉู ุงุฏุงูู ุฏุงุดุช

##### ฺฏุฒูู A: ุงุฌุฑุง ูุณุชูู Gunicorn
```bash
# ูุชููู ฺฉุฑุฏู ููู ฺุฒ
pkill -f gunicorn
pkill nginx

# ุงุฌุฑุง ูุณุชูู Gunicorn
gunicorn construction_project.wsgi:application --bind 0.0.0.0:3000 --workers 3
```

##### ฺฏุฒูู B: ุงุณุชูุงุฏู ุงุฒ ูพูุฑุช 8000
```bash
# ุชุบุฑ ูพูุฑุช Gunicorn ุจู 8000
gunicorn construction_project.wsgi:application --bind 0.0.0.0:8000 --workers 3
```

##### ฺฏุฒูู C: ุงุฌุฑุง Django development server
```bash
# ุจุฑุง ุชุณุช ุณุฑุน
python manage.py runserver 0.0.0.0:3000
```

## ๐ ุชุดุฎุต ูุดฺฉู

### ุจุฑุฑุณโูุง ูุงุฒู:

1. **Gunicorn ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ**
   ```bash
   ps aux | grep gunicorn
   ```

2. **ูพูุฑุช 3000 listening ุงุณุชุ**
   ```bash
   netstat -tlnp | grep :3000
   ```

3. **Gunicorn ูพุงุณุฎ ูโุฏูุฏุ**
   ```bash
   curl http://localhost:3000/health/simple/
   ```

4. **Nginx ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ**
   ```bash
   ps aux | grep nginx
   ```

5. **ูพูุฑุช 80 listening ุงุณุชุ**
   ```bash
   netstat -tlnp | grep :80
   ```

## ๐๏ธ ุฑุงูโุญูโูุง ุฌุงฺฏุฒู

### 1. ุงุณุชูุงุฏู ุงุฒ ูุงู Nginx ุณุงุฏู
```bash
# ฺฉูพ ฺฉุฑุฏู ูุงู ุณุงุฏู
cp nginx_simple.conf nginx.conf
```

### 2. ุชูุธู ุฏุณุช Nginx
```bash
# ูุฑุงุด ูุงู Nginx
nano /etc/nginx/sites-available/default
```

### 3. ุชูุงุณ ุจุง ูพุดุชุจุงู ฺุงุจฺฉุงู.ูุช
- ุงุฑุงุฆู ูุงฺฏโูุง ุฎุทุง
- ุชูุถุญ ูุดฺฉู
- ุฏุฑุฎูุงุณุช ุจุฑุฑุณ ุชูุธูุงุช

## ๐ ุงุทูุงุนุงุช ููุฑุฏ ูุงุฒ ุจุฑุง ูพุดุชุจุงู

### ูุงฺฏโูุง ููู:
```bash
# ูุงฺฏโูุง Gunicorn
tail -20 gunicorn.log

# ูุงฺฏโูุง Nginx
tail -20 /var/log/nginx/error.log

# ูุถุนุช ุณุณุชู
./test_connection.sh
```

### ุงุทูุงุนุงุช ุณุฑูุฑ:
- ุฏุงููู: django-arash.chbk.app
- ูพูุฑุช Gunicorn: 3000
- ูพูุฑุช Nginx: 80
- ูุถุนุช: 502 Bad Gateway

## ๐ฏ ูุฏู ููุง

ุจุนุฏ ุงุฒ ุญู ูุดฺฉู:
- โ ุณุงุช ุฑู https://django-arash.chbk.app/ ูุงุจู ุฏุณุชุฑุณ ุงุณุช
- โ Health check ฺฉุงุฑ ูโฺฉูุฏ
- โ Static files ููุฏ ูโุดููุฏ
- โ ูพูู ุงุฏูู ฺฉุงุฑ ูโฺฉูุฏ

---

**ูฺฉุชู**: ุงฺฏุฑ ูฺโฺฉุฏุงู ุงุฒ ุฑุงูโุญูโูุง ฺฉุงุฑ ูฺฉุฑุฏุ ุจุง ูพุดุชุจุงู ฺุงุจฺฉุงู.ูุช ุชูุงุณ ุจฺฏุฑุฏ.
